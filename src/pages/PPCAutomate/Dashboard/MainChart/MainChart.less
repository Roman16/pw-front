@import "../../../../style/variables.less";

.main-chart {
  width: 100%;
  padding: 20px 25px 0;
  margin: 25px 0 0 0;
  background: #fff;
  border-radius: 4px;
  position: relative;
  display: flex;
  flex-direction: column;
  box-shadow: @default-section-shadow;


  .recharts-cartesian-axis-tick-line {
    display: none;
  }

  .main-chart-container {
    flex: 1;
    height: 500px;

    .recharts-cartesian-grid-vertical {
      line {
        stroke-dasharray: 5;
      }
    }

    .recharts-cartesian-grid {
      line {
        stroke-width: 2
      }
    }

    .recharts-line {
      -webkit-filter: drop-shadow(3px 3px 2px rgba(0, 0, 0, .7));
      filter: drop-shadow(3px 3px 2px rgba(0, 0, 0, .7));
    }

    .started-optimization,
    .paused-optimization {
      font-size: 0.8571428571428571rem;
      font-weight: 500;
    }

    .started-optimization {
      fill: #7DD4A1;
      text-anchor: end;
    }

    .paused-optimization {
      fill: #C9CBD4;
    }

    .start-rect {
      fill: rgba(205, 255, 226, 0.2);
    }

    @media only screen and (min--moz-device-pixel-ratio: 2), only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2) {
      & {
        height: 420px;
      }
    }
  }

  .chart-header {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    margin: 0 0 20px 0;
    padding: 0 20px;

    .pair-name {
      font-size: 1.4285714285714286rem;
      line-height: 28px;
      color: #363694;
      margin: 0 auto;
      grid-area: pairName;

    }

    .switch-block {
      font-size: 1rem;
      color: #38454F;

      display: flex;
      align-items: center;

      button {
        margin: 0 13px 0 0;
      }
    }

    .week-switch {
      margin-right: 20px;
      grid-area: weekSwitchBlock;

    }

    .daily-switch {
      margin: 0 20px 0 0;
      grid-area: dailySwitchBlock;

      .daily-icon {
        margin: 0 0 0 20px;
        grid-area: dailyIcon;
      }
    }


    .line-fill {
      display: flex;
      grid-area: lineFill;
      margin: 0 0 0 20px;

      span {
        display: flex;
        align-items: center;
        margin: 0 5px 0 0;
      }

      & > div {
        margin: 0 3px;
      }
    }

    .chart-legend {
      display: flex;
      align-items: center;
      margin: 0 0 0 auto;
      grid-area: chartLegend;

      & > div {
        display: flex;
        align-items: center;
        margin: 0 30px 0 0;

        span {
          display: flex;
          align-items: center;
        }

        svg {
          margin: 0 10px 0 0;
        }

        &:last-child {
          margin: 0;
        }
      }
    }

    .DatePicker {
      margin: 0 0 0 20px;
      grid-area: datePiker;
    }
  }

  @media (max-width: 1200px) {
    & {
      .chart-header {
        margin-bottom: 30px;
        display: grid;
        grid-row-gap: 20px;
        grid-template-areas: "weekSwitchBlock dailySwitchBlock  chartLegend" "datePiker datePiker datePiker";

        .DatePicker {
          margin: 0 auto;
        }
      }
    }
  }

  @media (max-width: 905px) {
    & {
      padding-left: 0;
      padding-right: 0;

      .chart-header {
        grid-template-areas: "weekSwitchBlock dailySwitchBlock" "chartLegend chartLegend" "datePiker datePiker";

        .daily-switch {
          margin: 0;
        }

        .chart-legend {
          width: 100%;
          display: flex;
          justify-content: space-between;
        }
      }
    }
  }

  //@media (max-width: 550px) {
  //  & {
  //    padding-left: 10px;
  //    padding-right: 10px;
  //
  //    .chart-header {
  //      .week-switch .line-fill,
  //      .daily-switch img {
  //        display: none;
  //      }
  //
  //    }
  //  }
  //}


  //@media (max-width: 450px) {
  //  & {
  //    .chart-header {
  //      justify-content: center;
  //      grid-template-areas: "weekSwitchBlock " "dailySwitchBlock" "chartLegend" "datePiker";
  //
  //      .switch-block {
  //        width: 100%;
  //        flex-direction: row-reverse;
  //        justify-content: space-between;
  //        margin: 0;
  //
  //        button {
  //          margin: 0;
  //        }
  //      }
  //
  //      .chart-legend {
  //        justify-content: space-around;
  //        div {
  //          flex-direction: column-reverse;
  //
  //          img {
  //            width: 100%;
  //            height: 3px;
  //          }
  //        }
  //      }
  //    }
  //  }
  //}
}

.custom-line-chart-tooltip {
  display: flex;
  width: max-content;
  padding: 15px;
  background: #FFFFFF;
  border-radius: 4px;
  font-size: 1rem;
  box-shadow: 0px 5px 20px rgba(40, 62, 112, 0.1);

  & > div {
    flex: 1;
    min-width: max-content;

    & > div:nth-child(2) {
      color: #8FD39D;
    }

    & > div:nth-child(3) {
      color: #6D6DF6;
    }

    &:first-child {
      div {
        color: inherit;
      }
    }

    img {
      margin: 0 10px 0 0;
    }
  }

  .title {
    border-bottom: 1px solid #F5F5FF;
    padding: 10px 0;
    margin: 0 0 20px 0;

    &.date {
      font-weight: bold;
      width: max-content;
    }
  }

  & > .week-value,
  & > .daily-value {
    margin: 0 !important;
  }

  .name,
  .week-value,
  .daily-value {
    margin: 0 0 10px 0;

  }

  .week-value {
    text-align: left;

    div {
      display: flex;
      align-items: center;
      padding-left: 20px;

      svg {
        margin: 0 10px 0 0;
      }
    }
  }

  .daily-value {
    text-align: left;

    div {
      display: flex;
      align-items: center;
      padding-left: 20px;


      svg {
        margin: 0 10px 0 0;
      }
    }
  }

  //retina
  @media only screen and (min--moz-device-pixel-ratio: 2), only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2) {
    & {
      font-size: 1.1428571428571428rem;
    }
  }
}
